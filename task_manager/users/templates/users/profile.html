{% extends '../base.html' %}
{% load crispy_forms_tags %}
{% load i18n %}
{% load static %}

{% block title %}{% translate '–ü—Ä–æ—Ñ–∏–ª—å' %}{% endblock %}

{% block content %}
{% csrf_token %}
<div class="user-profile-container">
    <!-- Profile Header -->
    <div class="profile-header">
        <div class="profile-avatar">
            <i class="fa fa-user"></i>
        </div>
        <div class="profile-info">
            <h1 class="profile-username">{{ user.username }}</h1>
            <p class="profile-subtitle">{% translate '–ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å' %}</p>
        </div>
        
        <!-- Color Theme Selector -->
        <div class="color-theme-selector">
            <h3 class="color-theme-title">{% translate '–¶–≤–µ—Ç —Ç–µ–º—ã' %}</h3>
            <div class="color-circles">
                <button class="color-circle red {% if user.theme_color == 'red' %}active{% endif %}" 
                        data-color="red" 
                        title="–ö—Ä–∞—Å–Ω—ã–π">
                </button>
                <button class="color-circle orange {% if user.theme_color == 'orange' %}active{% endif %}" 
                        data-color="orange" 
                        title="–û—Ä–∞–Ω–∂–µ–≤—ã–π">
                </button>
                <button class="color-circle yellow {% if user.theme_color == 'yellow' %}active{% endif %}" 
                        data-color="yellow" 
                        title="–ñ–µ–ª—Ç—ã–π">
                </button>
                <button class="color-circle green {% if user.theme_color == 'green' %}active{% endif %}" 
                        data-color="green" 
                        title="–ó–µ–ª–µ–Ω—ã–π">
                </button>
                <button class="color-circle blue {% if user.theme_color == 'blue' %}active{% endif %}" 
                        data-color="blue" 
                        title="–°–∏–Ω–∏–π">
                </button>
                <button class="color-circle indigo {% if user.theme_color == 'indigo' %}active{% endif %}" 
                        data-color="indigo" 
                        title="–ò–Ω–¥–∏–≥–æ">
                </button>
                <button class="color-circle purple {% if user.theme_color == 'purple' %}active{% endif %}" 
                        data-color="purple" 
                        title="–§–∏–æ–ª–µ—Ç–æ–≤—ã–π">
                </button>
            </div>
        </div>
    </div>

    <!-- Profile Stats -->
    <div class="profile-stats">
        <div class="profile-stat-card">
            <div class="profile-stat-icon">
                <i class="fa fa-calendar-check"></i>
            </div>
            <div class="profile-stat-value">{{ user.date_joined|date:"d" }}</div>
            <div class="profile-stat-label">{% translate '–î–Ω–µ–π –≤ —Å–∏—Å—Ç–µ–º–µ' %}</div>
        </div>
        
        <div class="profile-stat-card">
            <div class="profile-stat-icon">
                <i class="fa fa-clock"></i>
            </div>
            <div class="profile-stat-value">{{ user.last_login|date:"H" }}</div>
            <div class="profile-stat-label">{% translate '–ß–∞—Å–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏' %}</div>
        </div>
        
        <div class="profile-stat-card">
            <div class="profile-stat-icon">
                <i class="fa fa-star"></i>
            </div>
            <div class="profile-stat-value">{% if user.is_staff %}‚≠ê{% else %}üë§{% endif %}</div>
            <div class="profile-stat-label">{% translate '–°—Ç–∞—Ç—É—Å' %}</div>
        </div>
    </div>

    <!-- Profile Information -->
    <div class="profile-info-section">
        <h2 class="profile-section-title">
            <i class="fa fa-info-circle"></i>
            {% translate '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ' %}
        </h2>
        
        <ul class="profile-info-list">
            <li class="profile-info-item">
                <div class="profile-info-icon">
                    <i class="fa fa-user-plus"></i>
                </div>
                <div class="profile-info-content">
                    <div class="profile-info-label">{% translate '–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏' %}</div>
                    <div class="profile-info-value">{{ user.date_joined|date:"d.m.Y –≤ H:i" }}</div>
                </div>
            </li>
            
            <li class="profile-info-item">
                <div class="profile-info-icon">
                    <i class="fa fa-sign-in-alt"></i>
                </div>
                <div class="profile-info-content">
                    <div class="profile-info-label">{% translate '–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥' %}</div>
                    <div class="profile-info-value">
                        {% if user.last_login %}
                            {{ user.last_login|date:"d.m.Y –≤ H:i" }}
                        {% else %}
                            {% translate '–ù–∏–∫–æ–≥–¥–∞' %}
                        {% endif %}
                    </div>
                </div>
            </li>
            
            <li class="profile-info-item">
                <div class="profile-info-icon">
                    <i class="fa fa-envelope"></i>
                </div>
                <div class="profile-info-content">
                    <div class="profile-info-label">{% translate 'Email' %}</div>
                    <div class="profile-info-value">
                        {% if user.email %}
                            {{ user.email }}
                        {% else %}
                            {% translate '–ù–µ —É–∫–∞–∑–∞–Ω' %}
                        {% endif %}
                    </div>
                </li>
                
                <li class="profile-info-item">
                    <div class="profile-info-icon">
                        <i class="fa fa-shield-alt"></i>
                    </div>
                    <div class="profile-info-content">
                        <div class="profile-info-label">{% translate '–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞' %}</div>
                        <div class="profile-info-value">
                            {% if user.is_superuser %}
                                {% translate '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' %}
                            {% elif user.is_staff %}
                                {% translate '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä' %}
                            {% else %}
                                {% translate '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å' %}
                            {% endif %}
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Quick Actions -->
        <div class="profile-actions">
            <a href="{% url 'labels:list' %}" class="profile-action-btn primary">
                <i class="fa fa-tags"></i>
                {% translate '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏' %}
            </a>
            
            <a href="{% url 'tasks:list' %}" class="profile-action-btn secondary">
                <i class="fa fa-tasks"></i>
                {% translate '–ú–æ–∏ –∑–∞–¥–∞—á–∏' %}
            </a>
            
            {% if user.is_staff %}
            <a href="{% url 'admin:index' %}" class="profile-action-btn secondary">
                <i class="fa fa-cog"></i>
                {% translate '–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å' %}
            </a>
            {% endif %}
        </div>
    </div>
{% endblock %}