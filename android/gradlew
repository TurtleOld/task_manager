#!/usr/bin/env sh

set -eu

APP_HOME=$(CDPATH= cd -- "$(dirname -- "$0")" && pwd)
GRADLE_VERSION="8.7"
GRADLE_DIST="gradle-${GRADLE_VERSION}-bin.zip"
GRADLE_URL="https://services.gradle.org/distributions/${GRADLE_DIST}"
GRADLE_DIR="$APP_HOME/.gradle/gradle-${GRADLE_VERSION}"

if [ ! -x "$GRADLE_DIR/bin/gradle" ]; then
  mkdir -p "$APP_HOME/.gradle"
  curl -fsSL "$GRADLE_URL" -o "$APP_HOME/.gradle/${GRADLE_DIST}"
  unzip -q "$APP_HOME/.gradle/${GRADLE_DIST}" -d "$APP_HOME/.gradle"
fi

exec "$GRADLE_DIR/bin/gradle" "$@"
